version: "3.8"

services:
  cursor-search-mcp:
    build: .
    environment:
      - CURSOR_REPO_NAME=${CURSOR_REPO_NAME}
      - CURSOR_REPO_OWNER=${CURSOR_REPO_OWNER}
      - CURSOR_ACCESS_TOKEN=${CURSOR_ACCESS_TOKEN}
      - CURSOR_WORKSPACE_PATH=/workspace
    volumes:
      # Mount Cursor credentials (macOS path)
      - ~/Library/Application Support/Cursor:/root/.cursor:ro
      # Mount workspace for context
      - ${CURSOR_WORKSPACE_PATH:-.}:/workspace:ro
    stdin_open: true
    tty: true
